<template>
    <div class="pagination">
      <div class="container">
        <div class="pagination__wrapper">
          <button class="pagination__button-prev pagination__button-bystep" :disabled="prevButtonDisabled" @click="(data) => emit('selectPage', currentPage - 1)">
            <svg width="29" height="11" viewBox="0 0 29 11" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M28.942 5.26465C28.8582 5.12951 28.0781 4.36439 27.7932 4.13794C27.4574 3.87101 27.0147 3.58685 26.6594 3.41007C26.4766 3.31914 25.7129 3.07363 25.5196 3.04367C25.3141 3.01179 24.5486 3.01179 24.3431 3.04367C24.1498 3.07363 23.3861 3.31914 23.2033 3.41007C22.5977 3.71135 22.0644 4.10187 21.478 4.67336L21.1236 5.01874L20.6029 5.0077C20.3165 5.00163 20.0643 4.99093 20.0424 4.98393C19.9738 4.96197 19.9988 4.88129 20.1076 4.77431C20.335 4.55064 20.6433 4.11413 20.8264 3.75664C20.8913 3.63014 21.1206 2.98332 21.1841 2.74824C21.3256 2.22386 21.4172 0.880366 21.3356 0.527225C21.2616 0.207085 21.2011 0.137389 20.9152 0.0425114C20.6651 -0.0404796 19.3925 0.00537931 18.858 0.116618C18.7793 0.132978 18.6576 0.156346 18.5877 0.168514C18.3533 0.209337 17.8095 0.401033 17.514 0.547026C16.7184 0.940145 16.2251 1.42545 15.8255 2.20816C15.6771 2.49886 15.4822 3.03378 15.4408 3.26439C15.4284 3.33321 15.4047 3.45287 15.3882 3.53029C15.3398 3.75718 15.2922 4.17548 15.2698 4.57163C15.2541 4.84854 15.237 4.94789 15.2012 4.97038C15.1739 4.98753 14.8888 4.99703 14.5339 4.99259C13.8336 4.9839 13.8023 4.97116 14.0006 4.77606C14.2297 4.55067 14.5375 4.11526 14.7213 3.75664C14.7861 3.63014 15.0155 2.98332 15.0789 2.74824C15.2204 2.22386 15.312 0.880366 15.2304 0.527224C15.1564 0.207085 15.0959 0.137389 14.81 0.0425111C14.5751 -0.0354434 13.2964 0.00447239 12.8005 0.105231C12.2118 0.224791 11.79 0.358709 11.4092 0.546838C10.6132 0.940146 10.12 1.4253 9.72032 2.20816C9.57192 2.49886 9.37706 3.03378 9.33557 3.26439C9.3232 3.33321 9.29954 3.45286 9.28303 3.53029C9.23461 3.75718 9.18704 4.17548 9.16462 4.57163C9.14894 4.84854 9.13184 4.94789 9.09603 4.97038C9.06872 4.98753 8.78365 4.99703 8.42869 4.99259C7.72844 4.9839 7.69711 4.97116 7.89544 4.77606C8.14705 4.52853 8.49801 4.01838 8.64488 3.6867C8.67916 3.60927 8.73185 3.48962 8.762 3.4208C8.79211 3.35198 8.84464 3.19714 8.87872 3.0767C8.91281 2.95626 8.95475 2.80846 8.97196 2.74824C9.065 2.42263 9.12983 1.84638 9.14793 1.18474C9.16554 0.540081 9.12974 0.336592 8.97129 0.180714C8.81135 0.0233663 8.60889 -0.0101365 7.91916 0.00666186C7.14256 0.0255248 6.90058 0.0532712 6.32962 0.188722C5.25844 0.442887 4.41389 0.969988 3.91683 1.69466C3.62076 2.12636 3.30539 2.84747 3.23038 3.26439C3.21801 3.33321 3.19435 3.45286 3.17785 3.53029C3.12942 3.75718 3.08185 4.17548 3.05943 4.57163C3.04372 4.84879 3.02668 4.9478 2.99084 4.97001C2.96296 4.9873 2.40729 4.99979 1.65209 5.00007C0.362242 5.00054 0.360939 5.0006 0.253748 5.07167C-0.0845816 5.29596 -0.0845816 5.70613 0.253748 5.93042C0.360939 6.0015 0.362241 6.00156 1.65209 6.00203C2.40729 6.00231 2.96296 6.01479 2.99084 6.03209C3.02668 6.0543 3.04372 6.15331 3.05943 6.43047C3.08185 6.82662 3.12942 7.24492 3.17785 7.47181C3.19435 7.54923 3.21801 7.66889 3.23038 7.73771C3.27267 7.97273 3.46781 8.50527 3.62352 8.81052C3.79377 9.14426 4.0776 9.54029 4.31128 9.77022C4.62754 10.0813 5.17936 10.4306 5.59703 10.5841C5.66765 10.61 5.78626 10.654 5.8606 10.6818C5.93491 10.7096 6.10306 10.7596 6.23422 10.7929C6.45859 10.85 6.59033 10.8741 7.09277 10.9497C7.20644 10.9668 7.58061 10.9874 7.92425 10.9955C8.628 11.0121 8.82874 10.9798 8.97704 10.8261C9.14773 10.6491 9.16455 10.5484 9.14837 9.79868C9.14026 9.42217 9.11931 9.02261 9.10185 8.91078C8.99832 8.24813 8.99434 8.23077 8.84718 7.79592C8.6598 7.24217 8.31431 6.65407 7.96975 6.30224C7.69413 6.0208 7.69759 6.01858 8.42869 6.00951C8.78365 6.00506 9.06872 6.01457 9.09603 6.03171C9.13184 6.05421 9.14894 6.15356 9.16462 6.43047C9.20596 7.16077 9.32294 7.81378 9.48985 8.24604C9.51808 8.31914 9.56279 8.43586 9.58918 8.50533C9.74515 8.91622 10.1002 9.45909 10.4165 9.77022C10.7327 10.0813 11.2845 10.4306 11.7022 10.5841C11.7728 10.61 11.8915 10.654 11.9658 10.6818C12.1113 10.7362 12.4798 10.8331 12.7369 10.8845C13.0379 10.9447 13.4697 10.9798 14.1002 10.9951C14.7911 11.0118 14.9037 10.9927 15.0787 10.8294C15.2482 10.6712 15.27 10.5462 15.253 9.8279C15.2388 9.22741 15.2028 8.75224 15.1539 8.51975C14.967 7.63088 14.563 6.80053 14.0749 6.30224C13.7993 6.0208 13.8028 6.01858 14.5339 6.00951C14.8888 6.00506 15.1739 6.01457 15.2012 6.03171C15.237 6.05421 15.2541 6.15356 15.2698 6.43047C15.3111 7.16077 15.4281 7.81378 15.595 8.24604C15.6233 8.31914 15.668 8.43586 15.6944 8.50533C15.8503 8.91622 16.2054 9.45909 16.5217 9.77022C16.8379 10.0813 17.3897 10.4306 17.8074 10.5841C17.878 10.61 17.9967 10.654 18.071 10.6818C18.5662 10.8669 19.2678 10.9718 20.1662 10.995C20.996 11.0165 21.1836 10.9543 21.3217 10.6118C21.4082 10.3971 21.3669 9.22441 21.2474 8.50411C21.1118 7.68684 20.6597 6.77135 20.1384 6.25854C19.9099 6.03372 19.9316 6.02027 20.5595 5.99821L21.0997 5.97926L21.2115 6.09206C21.2729 6.15412 21.3516 6.24008 21.3863 6.2831C21.4211 6.32611 21.5281 6.42465 21.6243 6.50207C21.7204 6.57949 21.8305 6.67309 21.8689 6.71003C22.1014 6.93367 22.8719 7.44065 23.1993 7.58546C23.6016 7.76336 23.6732 7.79085 23.8979 7.85326C24.2705 7.9568 24.4833 7.98358 24.9314 7.98333C25.4715 7.98302 25.5812 7.9655 26.1023 7.79598C26.6662 7.61258 27.0071 7.43496 27.6157 7.00743C27.8837 6.81921 28.836 5.90847 28.9395 5.74142C29.0192 5.61291 29.0203 5.39103 28.942 5.26465Z"
                fill="#769B54"
              />
            </svg>
          </button>
          <span class="pagination__span" v-if="currentPage - 2 > 2">...</span>
          <button class="pagination__button" v-if="currentPage > 3" @click="(data) => emit('selectPage', currentPage - 3)">
            {{ currentPage - 3 }}
          </button>
  
          <button class="pagination__button" v-if="currentPage > 2" @click="(data) => emit('selectPage', currentPage - 2)">
            {{ currentPage - 2 }}
          </button>
  
          <button class="pagination__button" v-if="currentPage > 1" @click="(data) => emit('selectPage', currentPage - 1)">
            {{ currentPage - 1 }}
          </button>
  
          <button class="pagination__button" :disabled="true">{{ currentPage }}</button>
  
          <button class="pagination__button" v-if="currentPage < totalPages" @click="(data) => emit('selectPage', currentPage + 1)">
            {{ currentPage + 1 }}
          </button>
  
          <button class="pagination__button" v-if="currentPage + 1 < totalPages" @click="(data) => emit('selectPage', currentPage + 2)">
            {{ currentPage + 2 }}
          </button>
  
          <button class="pagination__button" v-if="currentPage + 2 < totalPages" @click="(data) => emit('selectPage', currentPage + 3)">
            {{ currentPage + 3 }}
          </button>
  
          <span class="pagination__span" v-if="currentPage + 3 < totalPages">...</span>
  
          <button class="pagination__button-next pagination__button-bystep" :disabled="nextButtonDisabled" @click="(data) => emit('selectPage', currentPage + 1)">
            <svg width="29" height="11" viewBox="0 0 29 11" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M28.942 5.26465C28.8582 5.12951 28.0781 4.36439 27.7932 4.13794C27.4574 3.87101 27.0147 3.58685 26.6594 3.41007C26.4766 3.31914 25.7129 3.07363 25.5196 3.04367C25.3141 3.01179 24.5486 3.01179 24.3431 3.04367C24.1498 3.07363 23.3861 3.31914 23.2033 3.41007C22.5977 3.71135 22.0644 4.10187 21.478 4.67336L21.1236 5.01874L20.6029 5.0077C20.3165 5.00163 20.0643 4.99093 20.0424 4.98393C19.9738 4.96197 19.9988 4.88129 20.1076 4.77431C20.335 4.55064 20.6433 4.11413 20.8264 3.75664C20.8913 3.63014 21.1206 2.98332 21.1841 2.74824C21.3256 2.22386 21.4172 0.880366 21.3356 0.527225C21.2616 0.207085 21.2011 0.137389 20.9152 0.0425114C20.6651 -0.0404796 19.3925 0.00537931 18.858 0.116618C18.7793 0.132978 18.6576 0.156346 18.5877 0.168514C18.3533 0.209337 17.8095 0.401033 17.514 0.547026C16.7184 0.940145 16.2251 1.42545 15.8255 2.20816C15.6771 2.49886 15.4822 3.03378 15.4408 3.26439C15.4284 3.33321 15.4047 3.45287 15.3882 3.53029C15.3398 3.75718 15.2922 4.17548 15.2698 4.57163C15.2541 4.84854 15.237 4.94789 15.2012 4.97038C15.1739 4.98753 14.8888 4.99703 14.5339 4.99259C13.8336 4.9839 13.8023 4.97116 14.0006 4.77606C14.2297 4.55067 14.5375 4.11526 14.7213 3.75664C14.7861 3.63014 15.0155 2.98332 15.0789 2.74824C15.2204 2.22386 15.312 0.880366 15.2304 0.527224C15.1564 0.207085 15.0959 0.137389 14.81 0.0425111C14.5751 -0.0354434 13.2964 0.00447239 12.8005 0.105231C12.2118 0.224791 11.79 0.358709 11.4092 0.546838C10.6132 0.940146 10.12 1.4253 9.72032 2.20816C9.57192 2.49886 9.37706 3.03378 9.33557 3.26439C9.3232 3.33321 9.29954 3.45286 9.28303 3.53029C9.23461 3.75718 9.18704 4.17548 9.16462 4.57163C9.14894 4.84854 9.13184 4.94789 9.09603 4.97038C9.06872 4.98753 8.78365 4.99703 8.42869 4.99259C7.72844 4.9839 7.69711 4.97116 7.89544 4.77606C8.14705 4.52853 8.49801 4.01838 8.64488 3.6867C8.67916 3.60927 8.73185 3.48962 8.762 3.4208C8.79211 3.35198 8.84464 3.19714 8.87872 3.0767C8.91281 2.95626 8.95475 2.80846 8.97196 2.74824C9.065 2.42263 9.12983 1.84638 9.14793 1.18474C9.16554 0.540081 9.12974 0.336592 8.97129 0.180714C8.81135 0.0233663 8.60889 -0.0101365 7.91916 0.00666186C7.14256 0.0255248 6.90058 0.0532712 6.32962 0.188722C5.25844 0.442887 4.41389 0.969988 3.91683 1.69466C3.62076 2.12636 3.30539 2.84747 3.23038 3.26439C3.21801 3.33321 3.19435 3.45286 3.17785 3.53029C3.12942 3.75718 3.08185 4.17548 3.05943 4.57163C3.04372 4.84879 3.02668 4.9478 2.99084 4.97001C2.96296 4.9873 2.40729 4.99979 1.65209 5.00007C0.362242 5.00054 0.360939 5.0006 0.253748 5.07167C-0.0845816 5.29596 -0.0845816 5.70613 0.253748 5.93042C0.360939 6.0015 0.362241 6.00156 1.65209 6.00203C2.40729 6.00231 2.96296 6.01479 2.99084 6.03209C3.02668 6.0543 3.04372 6.15331 3.05943 6.43047C3.08185 6.82662 3.12942 7.24492 3.17785 7.47181C3.19435 7.54923 3.21801 7.66889 3.23038 7.73771C3.27267 7.97273 3.46781 8.50527 3.62352 8.81052C3.79377 9.14426 4.0776 9.54029 4.31128 9.77022C4.62754 10.0813 5.17936 10.4306 5.59703 10.5841C5.66765 10.61 5.78626 10.654 5.8606 10.6818C5.93491 10.7096 6.10306 10.7596 6.23422 10.7929C6.45859 10.85 6.59033 10.8741 7.09277 10.9497C7.20644 10.9668 7.58061 10.9874 7.92425 10.9955C8.628 11.0121 8.82874 10.9798 8.97704 10.8261C9.14773 10.6491 9.16455 10.5484 9.14837 9.79868C9.14026 9.42217 9.11931 9.02261 9.10185 8.91078C8.99832 8.24813 8.99434 8.23077 8.84718 7.79592C8.6598 7.24217 8.31431 6.65407 7.96975 6.30224C7.69413 6.0208 7.69759 6.01858 8.42869 6.00951C8.78365 6.00506 9.06872 6.01457 9.09603 6.03171C9.13184 6.05421 9.14894 6.15356 9.16462 6.43047C9.20596 7.16077 9.32294 7.81378 9.48985 8.24604C9.51808 8.31914 9.56279 8.43586 9.58918 8.50533C9.74515 8.91622 10.1002 9.45909 10.4165 9.77022C10.7327 10.0813 11.2845 10.4306 11.7022 10.5841C11.7728 10.61 11.8915 10.654 11.9658 10.6818C12.1113 10.7362 12.4798 10.8331 12.7369 10.8845C13.0379 10.9447 13.4697 10.9798 14.1002 10.9951C14.7911 11.0118 14.9037 10.9927 15.0787 10.8294C15.2482 10.6712 15.27 10.5462 15.253 9.8279C15.2388 9.22741 15.2028 8.75224 15.1539 8.51975C14.967 7.63088 14.563 6.80053 14.0749 6.30224C13.7993 6.0208 13.8028 6.01858 14.5339 6.00951C14.8888 6.00506 15.1739 6.01457 15.2012 6.03171C15.237 6.05421 15.2541 6.15356 15.2698 6.43047C15.3111 7.16077 15.4281 7.81378 15.595 8.24604C15.6233 8.31914 15.668 8.43586 15.6944 8.50533C15.8503 8.91622 16.2054 9.45909 16.5217 9.77022C16.8379 10.0813 17.3897 10.4306 17.8074 10.5841C17.878 10.61 17.9967 10.654 18.071 10.6818C18.5662 10.8669 19.2678 10.9718 20.1662 10.995C20.996 11.0165 21.1836 10.9543 21.3217 10.6118C21.4082 10.3971 21.3669 9.22441 21.2474 8.50411C21.1118 7.68684 20.6597 6.77135 20.1384 6.25854C19.9099 6.03372 19.9316 6.02027 20.5595 5.99821L21.0997 5.97926L21.2115 6.09206C21.2729 6.15412 21.3516 6.24008 21.3863 6.2831C21.4211 6.32611 21.5281 6.42465 21.6243 6.50207C21.7204 6.57949 21.8305 6.67309 21.8689 6.71003C22.1014 6.93367 22.8719 7.44065 23.1993 7.58546C23.6016 7.76336 23.6732 7.79085 23.8979 7.85326C24.2705 7.9568 24.4833 7.98358 24.9314 7.98333C25.4715 7.98302 25.5812 7.9655 26.1023 7.79598C26.6662 7.61258 27.0071 7.43496 27.6157 7.00743C27.8837 6.81921 28.836 5.90847 28.9395 5.74142C29.0192 5.61291 29.0203 5.39103 28.942 5.26465Z"
                fill="#769B54"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </template>
  <script setup lang="ts">
  import { ref, watch } from 'vue';
  
  const data = defineProps({
    currentPage: Number,
    totalPages: Number,
  });
  
  const nextButtonDisabled = ref(data.totalPages > 1 ? false : true);
  const prevButtonDisabled = ref(data.currentPage === 1 ? true : false);
  
  watch(
    data,
    (newValue) => {
      newValue.currentPage === data.totalPages ? (nextButtonDisabled.value = true) : (nextButtonDisabled.value = false);
      newValue.currentPage === 1 ? (prevButtonDisabled.value = true) : (prevButtonDisabled.value = false);
    },
    { deep: true }
  );
  
  const emit = defineEmits(['selectPage']);
  </script>
  
  <style scoped lang="scss">
  .pagination{
    margin-top: 50px;
    margin-bottom: 130px;
    &__wrapper {
      justify-content: center;
      display: flex;
      gap: 30px;
    }
    &__button {
      font-size: 20px;
      font-weight: 500;
      line-height: 25px;
      color: #737b84;
      cursor: pointer;
      border: none;
      background-color: transparent;
      transition: all ease 0.5s;
    }
    &__button:hover {
      color: #1f2022;
      
    }
    &__button:disabled {
      color: #fdcf55;
      cursor: default;
    }
    &__button-prev,
    &__button-next{
      border: none;
      background-color: transparent;
      cursor: pointer;
    }
    &__button-prev{
      transform: rotate(180deg);
    }
    &__button-bystep:disabled{
      cursor: default;
    }
    &__button-bystep:disabled svg path{
      fill: #D6D6D6;
    }
    &__span{
      font-size: 20px;
      font-weight: 500;
      line-height: 25px;
      color: #737b84;
      -webkit-touch-callout: none; /* iOS Safari */
      -webkit-user-select: none; /* Safari */
      -khtml-user-select: none; /* Konqueror HTML */
      -moz-user-select: none; /* Old versions of Firefox */
      -ms-user-select: none; /* Internet Explorer/Edge */
      user-select: none; /* Non-prefixed version, currently */
    }
  }
  </style>
  